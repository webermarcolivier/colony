<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Colony: GlobalArray&lt; T &gt; Class Template Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>GlobalArray&lt; T &gt; Class Template Reference</h1><!-- doxytag: class="GlobalArray" -->This class defines a global array of type T which stores consecutively a series of local arrays, called nodes.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;GlobalArray.h&gt;</code>
<p>

<p>
<a href="classGlobalArray-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalArray.html#96570937786aa847350cadcf2a2deb6e">GlobalArray</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalArray.html#41c47e855bdaa6ebd2b00541f1b9e5fe">~GlobalArray</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalArray.html#785072abe434f74ea777044b5d16d4bd">build</a> (list&lt; <a class="el" href="classLocalArrayTarget.html">LocalArrayTarget</a>&lt; T &gt; &gt; &amp;localArrayList)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Construct/Reconstruct the global array based on the local arrays information.  <a href="#785072abe434f74ea777044b5d16d4bd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">list&lt; Array&lt; T, 1 &gt; &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalArray.html#c81fd0b504d70fc51ab9df89707b523a">buildGlobalArrayRangesList</a> (list&lt; <a class="el" href="classLocalArrayTarget.html">LocalArrayTarget</a>&lt; T &gt; &gt; &amp;localArrayList)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Construct/Reconstruct the global array based on the local arrays information, let the responsability of local array referencing to the interface.  <a href="#c81fd0b504d70fc51ab9df89707b523a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Array&lt; T, 1 &gt; &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalArray.html#78ce4aa9d6bbd062f92dc233c368b1a7">getGlobalArray</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the global array (by reference).  <a href="#78ce4aa9d6bbd062f92dc233c368b1a7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Array&lt; T, 1 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalArray.html#63db21859b40c12c5c9e4221d3db66b5">getNode</a> (int k)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the array corresponding to node <code>k</code>.  <a href="#63db21859b40c12c5c9e4221d3db66b5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">pair&lt; int, int &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalArray.html#d8f1ca4e0051ed951708caeb9adb4463">getLocalIndicesFromGlobal</a> (int i) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the local indices (node number <code>k</code>, position inside the node <code>j</code>) from the global index <code>i</code>.  <a href="#d8f1ca4e0051ed951708caeb9adb4463"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalArray.html#004fd0e2ee376b3d396ca209505863b3">size_</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Total size (number of elements of type T) of the global array.  <a href="#004fd0e2ee376b3d396ca209505863b3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalArray.html#ff5f661d6ca45fc7790f8445ea9c8ff9">nNodes_</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of nodes in the global array.  <a href="#ff5f661d6ca45fc7790f8445ea9c8ff9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Array&lt; T, 1 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalArray.html#6ed84b13602ec62b8ff289b7d529b51a">globalArray_</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stores consecutively all the local arrays (which are referenced to a part of the global array).  <a href="#6ed84b13602ec62b8ff289b7d529b51a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">set&lt; int &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGlobalArray.html#346fe4d8c3154bffe23c9179489912a7">nodesTable_</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A table of the indices of the first element of each node.  <a href="#346fe4d8c3154bffe23c9179489912a7"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;class T&gt;<br>
 class GlobalArray&lt; T &gt;</h3>

This class defines a global array of type T which stores consecutively a series of local arrays, called nodes. 
<p>
Each node is itself a smaller array of type T, and can have an arbitrary size. <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="96570937786aa847350cadcf2a2deb6e"></a><!-- doxytag: member="GlobalArray::GlobalArray" ref="96570937786aa847350cadcf2a2deb6e" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGlobalArray.html">GlobalArray</a>&lt; T &gt;::<a class="el" href="classGlobalArray.html">GlobalArray</a>           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="41c47e855bdaa6ebd2b00541f1b9e5fe"></a><!-- doxytag: member="GlobalArray::~GlobalArray" ref="41c47e855bdaa6ebd2b00541f1b9e5fe" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGlobalArray.html">GlobalArray</a>&lt; T &gt;::~<a class="el" href="classGlobalArray.html">GlobalArray</a>           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="785072abe434f74ea777044b5d16d4bd"></a><!-- doxytag: member="GlobalArray::build" ref="785072abe434f74ea777044b5d16d4bd" args="(list&lt; LocalArrayTarget&lt; T &gt; &gt; &amp;localArrayList)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classGlobalArray.html">GlobalArray</a>&lt; T &gt;::build           </td>
          <td>(</td>
          <td class="paramtype">list&lt; <a class="el" href="classLocalArrayTarget.html">LocalArrayTarget</a>&lt; T &gt; &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>localArrayList</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Construct/Reconstruct the global array based on the local arrays information. 
<p>
The method goes like this:<ul>
<li>Set nNodes.</li><li>Loop over local array list:<ul>
<li>Calculate the node table and the total size of the global array.</li></ul>
</li><li>Resize global array.</li><li>Loop over local array list:<ul>
<li>Make a copy of local array.</li><li>Reference local array to corresponding part of the global array.</li><li>Copy back values into local array.</li></ul>
</li></ul>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>localArraysList</em>&nbsp;</td><td>list of the local arrays. Each element of the list is a LocalArrayTarget&lt;T&gt; containing a <b>pointer</b> to the array and its size. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="c81fd0b504d70fc51ab9df89707b523a"></a><!-- doxytag: member="GlobalArray::buildGlobalArrayRangesList" ref="c81fd0b504d70fc51ab9df89707b523a" args="(list&lt; LocalArrayTarget&lt; T &gt; &gt; &amp;localArrayList)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">list&lt; Array&lt; T, 1 &gt; &gt; <a class="el" href="classGlobalArray.html">GlobalArray</a>&lt; T &gt;::buildGlobalArrayRangesList           </td>
          <td>(</td>
          <td class="paramtype">list&lt; <a class="el" href="classLocalArrayTarget.html">LocalArrayTarget</a>&lt; T &gt; &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>localArrayList</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Construct/Reconstruct the global array based on the local arrays information, let the responsability of local array referencing to the interface. 
<p>
The method goes like this:<ul>
<li>Set nNodes.</li><li>Loop over local array list:<ul>
<li>Calculate the node table and the total size of the global array.</li></ul>
</li><li>Resize global array.</li><li>Return a list a global array parts corresponding to the local arrays. This list can be used as a reference targets list for referencing the local arrays.</li></ul>
<p>
Remark 1: The advantage of letting the responsability of the referencing to the interface class is that the referencing method called in the concerned objects (e.g. <a class="el" href="classCell.html" title="Cell able to divide and communicate with the milieu.">Cell</a> objects) can control the referencing. If the local array is depending on other members, if it is itself sharing reference to other arrays, then the method in the object can resolve the local references and dependences. In the <a class="el" href="classGlobalArray.html#785072abe434f74ea777044b5d16d4bd" title="Construct/Reconstruct the global array based on the local arrays information.">build()</a> method, we change the reference directly by dereferencing the pointer to the local array. This is dangerous since we are changing directly the local array in an object.<p>
Remark 2: This method only needs to know the size of the local arrays, because the referencing method is let to the <a class="el" href="classGlobalArrayInterface.html" title="Interface between the class CellCollection and the class GlobalArray.">GlobalArrayInterface</a> class. However, it takes as input a <a class="el" href="classLocalArrayTarget.html" title="Template Class that contains a pointer to a local array &lt;T,1&gt; and its size...">LocalArrayTarget</a> list containing the pointers to the local arrays. This is just for sake of generality: this way, we only need to define one method to get the list of local arrays in the interface class.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>localArraysList</em>&nbsp;</td><td>list of the local arrays. Each element of the list is a LocalArrayTarget&lt;T&gt; containing a <b>pointer</b> to the array and its size. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="78ce4aa9d6bbd062f92dc233c368b1a7"></a><!-- doxytag: member="GlobalArray::getGlobalArray" ref="78ce4aa9d6bbd062f92dc233c368b1a7" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Array&lt;T,1&gt;&amp; <a class="el" href="classGlobalArray.html">GlobalArray</a>&lt; T &gt;::getGlobalArray           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the global array (by reference). 
<p>

</div>
</div><p>
<a class="anchor" name="63db21859b40c12c5c9e4221d3db66b5"></a><!-- doxytag: member="GlobalArray::getNode" ref="63db21859b40c12c5c9e4221d3db66b5" args="(int k)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Array&lt; T, 1 &gt; <a class="el" href="classGlobalArray.html">GlobalArray</a>&lt; T &gt;::getNode           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>k</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the array corresponding to node <code>k</code>. 
<p>
Remark: the size of the returned array can vary.<br>
 Remark: <div class="fragment"><pre class="fragment"> 0 &lt;= k &lt;= <a class="code" href="classGlobalArray.html#ff5f661d6ca45fc7790f8445ea9c8ff9" title="Number of nodes in the global array.">nNodes_</a> - 1 
</pre></div> 
</div>
</div><p>
<a class="anchor" name="d8f1ca4e0051ed951708caeb9adb4463"></a><!-- doxytag: member="GlobalArray::getLocalIndicesFromGlobal" ref="d8f1ca4e0051ed951708caeb9adb4463" args="(int i) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">pair&lt; int, int &gt; <a class="el" href="classGlobalArray.html">GlobalArray</a>&lt; T &gt;::getLocalIndicesFromGlobal           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the local indices (node number <code>k</code>, position inside the node <code>j</code>) from the global index <code>i</code>. 
<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="004fd0e2ee376b3d396ca209505863b3"></a><!-- doxytag: member="GlobalArray::size_" ref="004fd0e2ee376b3d396ca209505863b3" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classGlobalArray.html">GlobalArray</a>&lt; T &gt;::<a class="el" href="classGlobalArray.html#004fd0e2ee376b3d396ca209505863b3">size_</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Total size (number of elements of type T) of the global array. 
<p>

</div>
</div><p>
<a class="anchor" name="ff5f661d6ca45fc7790f8445ea9c8ff9"></a><!-- doxytag: member="GlobalArray::nNodes_" ref="ff5f661d6ca45fc7790f8445ea9c8ff9" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classGlobalArray.html">GlobalArray</a>&lt; T &gt;::<a class="el" href="classGlobalArray.html#ff5f661d6ca45fc7790f8445ea9c8ff9">nNodes_</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Number of nodes in the global array. 
<p>

</div>
</div><p>
<a class="anchor" name="6ed84b13602ec62b8ff289b7d529b51a"></a><!-- doxytag: member="GlobalArray::globalArray_" ref="6ed84b13602ec62b8ff289b7d529b51a" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Array&lt;T,1&gt; <a class="el" href="classGlobalArray.html">GlobalArray</a>&lt; T &gt;::<a class="el" href="classGlobalArray.html#6ed84b13602ec62b8ff289b7d529b51a">globalArray_</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stores consecutively all the local arrays (which are referenced to a part of the global array). 
<p>

</div>
</div><p>
<a class="anchor" name="346fe4d8c3154bffe23c9179489912a7"></a><!-- doxytag: member="GlobalArray::nodesTable_" ref="346fe4d8c3154bffe23c9179489912a7" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">set&lt;int&gt; <a class="el" href="classGlobalArray.html">GlobalArray</a>&lt; T &gt;::<a class="el" href="classGlobalArray.html#346fe4d8c3154bffe23c9179489912a7">nodesTable_</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A table of the indices of the first element of each node. 
<p>
Nodes can have a different size and this table allows for a direct access to a node in the global array. 
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>DATA/PROGS/COLONY/<a class="el" href="GlobalArray_8h.html">GlobalArray.h</a><li>DATA/PROGS/COLONY/<a class="el" href="GlobalArray_8cpp.html">GlobalArray.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Apr 20 13:50:18 2010 for Colony by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
